<ion-modal-view class="create-shift-modal" ng-controller="CreateShiftModalController">
    <ion-nav-bar>
        <ion-nav-back-button></ion-nav-back-button>
        <ion-nav-buttons side="right">
            <button class="button button-icon ion-close" ng-click="closeModal()"></button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <div class="create-shift-steps">
        <ul id="progressbar">
            <li ng-class="{'active': step >= 0, 'locked': steps['create-shift-date'].locked}" ng-click="navigateTo('create-shift-date')">DATE</li>
            <li ng-class="{'active': step >= 1, 'locked': steps['create-shift-when'].locked}" ng-click="navigateTo('create-shift-when')">WHEN</li>
            <li ng-class="{'active': step >= 2, 'locked': steps['create-shift-where'].locked}" ng-click="navigateTo('create-shift-where')">WHERE</li>
            <li ng-class="{'active': step >= 3, 'locked': steps['create-shift-who'].locked}" ng-click="navigateTo('create-shift-who')">WHO</li>
            <li ng-class="{'active': step >= 4, 'locked': steps['create-shift-review'].locked}" ng-click="navigateTo('create-shift-review')">Review</li>
        </ul>
    </div>
    <ion-content class="has-header">
        <div class="forms" id="create-shift-date" ng-class="{'create-shift-form-hide': steps.create-shift-date.show}">
            <div class="create-shift-content">
                <div class="header-extend">
                    <h3>Select a date</h3>
                </div>
                <shift-calendar toggle="false" show="true" name="create-shift-calendar" clickable="true"></shift-calendar>
            </div>
        </div>
        <div class="forms" id="create-shift-when" ng-class="{'create-shift-form-hide': steps.create-shift-when.show}">
            <button class="button create-shift-nav-prev ion-chevron-up" ng-click="slideTo('create-shift-date')"></button>
            <div class="create-shift-content">
                <div class="shift-date">
                    <i class="ion-calendar icon"></i>{{getReadableDate()}}
                </div>
                <div>
                    This will always be in local time
                </div>
                <ionic-timepicker-embed input-obj="timePickerObjectTime"></ionic-timepicker-embed>
                <ionic-timepicker-hours-embed input-obj="timePickerObjectLength"></ionic-timepicker-hours-embed>
                <div class="create-shift-nav-next">
                    <button class="button ion-chevron-down" ng-click="slideTo('create-shift-where')"></button>
                </div>
            </div>
        </div>
        <div class="forms" id="create-shift-where" ng-class="{'create-shift-form-hide': steps.create-shift-where.show}">
            <button class="button create-shift-nav-prev ion-chevron-up" ng-click="slideTo('create-shift-when')"></button>
            <div class="create-shift-content">
                <i class="icon ion-search placeholder-icon"></i>
                <input type="text" ng-model="query" ng-style="{'width' : '100%'}"
                       placeholder="Search by name, email or phone">
                <div>
                <ion-list
                    show-delete="false"
                    show-reorder="false"
                    can-swipe="false">
                    <ion-item
                        class="item clear-padding"
                        ng-class="{'location-selected': location.selected}"
                        ng-click="clicked(location)"
                        collection-repeat="location in locations | filter:query">
                        {{location.address}}
                    </ion-item>
                </ion-list>
                </div>
                <div>
                    <ion-list
                        show-delete="false"
                        show-reorder="false"
                        can-swipe="false">
                        <ion-item
                            class="item clear-padding"
                            ng-class="{'location-selected': location.selected}"
                            ng-click="clicked(location)"
                            collection-repeat="location in locations | filter:query">
                            {{location.address}}
                        </ion-item>
                    </ion-list>
                </div>
                
                <div class="create-shift-nav-next">
                    <button class="button ion-chevron-down" ng-click="slideTo('create-shift-who')"></button>
                </div>
            </div>
        </div>
        <div class="forms" id="create-shift-who" ng-class="{'create-shift-form-hide': steps.create-shift-who.show}">
            <button class="button create-shift-nav-prev ion-chevron-up" ng-click="slideTo('create-shift-where')"></button>
            <div class="create-shift-content">
                description
                <div class="create-shift-nav-next">
                    <button class="button ion-chevron-down" ng-click="slideTo('create-shift-review')"></button>
                </div>
            </div>
        </div>
        <div class="forms" id="create-shift-review" ng-class="{'create-shift-form-hide': steps.create-shift-review.show}">
            <button class="button create-shift-nav-prev ion-chevron-up" ng-click="slideTo('create-shift-who')"></button>
            <div class="create-shift-content">
                confirm
            </div>
        </div>
    </ion-content>
    <div class="block-input" ng-show="blockInput"></div>
</ion-modal-view>
