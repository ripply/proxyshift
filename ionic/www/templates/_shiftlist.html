<link href="../css/shifts.css" rel="stylesheet">
<ion-list
    class="has-header"
    show-delete="false"
    show-reorder="false"
    can-swipe="false">
    <div class="item item-divider"
         ng-show="unIgnorableShiftsExist()">
        {{shifttitle}}
    </div>
    <ion-item
        class="item shift-item"
        ng-show="Model"
        ng-repeat="shift in Model"
        ng-hide="shift.canceled || ignoredShift(shift)"
        ng-click="clicked(shift)">
        <div class="shift-left-icon"><i class="icon ion-ios-checkmark-outline"></i></div>
        <div ng-hide="shift.expanded">
            <div class="shift-left">
                <p class="shift-location" ng-show="{{!shift.sublocation_id}}">{{getShiftsLocation(shift).address}}</p>
                <p class="shift-location shift-location-floor" ng-show="{{shift.sublocation_id}}">{{getShiftsLocation(shift).address}} - {{getShiftsSublocation(shift).title}}</p>
                <p class="shift-title">{{ellipsis(shift.title, 15)}}</p>
                <p class="shift-desc">{{ellipsis(shift.description, 15)}}</p>
            </div>
            <div class="shift-right">
                <p class="shift-star" ng-hide="{{userIsInDifferentTimeZone(shift)}}">{{getReadableLocalShiftEndTime(shift)}}</p>
                <p class="shift-star" ng-show="{{userIsInDifferentTimeZone(shift)}}">{{getReadableLocalShiftEndTime(shift)}} (local)</p>
                <p class="shift-duration">{{getReadableShiftDuration(shift)}}</p>
            </div>
        </div>
        <div class="shift-expanded" ng-show="shift.expanded">
            <div class="shift-left">
                <p class="shift-location" ng-show="{{!shift.sublocation_id}}">{{getShiftsLocation(shift).address}}</p>
                <p class="shift-location shift-location-floor" ng-show="{{shift.sublocation_id}}">{{getShiftsLocation(shift).address}} - {{getShiftsSublocation(shift).title}}</p>
                <p class="shift-title">{{shift.title}}</p>
                <p class="shift-desc">{{shift.description}}</p>
            </div>
            <div class="shift-right">
                <p class="shift-star" ng-hide="{{userIsInDifferentTimeZone(shift)}}">{{getReadableLocalShiftEndTime(shift)}}</p>
                <p class="shift-star" ng-show="{{userIsInDifferentTimeZone(shift)}}">{{getReadableLocalShiftEndTime(shift)}} (local)</p>
                <p class="shift-duration">{{getReadableShiftDuration(shift)}}</p>
            </div>
            <div class="shift-bottom">
                <p class="shift-left">Accept</p>
                <p class="shift-right">Decline</p>
            </div>
        </div>

        <button class="button button-steelblue" ng-if="applyable">Apply</button>
        <button class="button button-steelblue" ng-if="applyable">Cancel</button>
    </ion-item>
    <ion-item
        ng-hide="Model"
        class="item item-icon-right">
        <p>There are currently no open shifts</p>
    </ion-item>
    <div class="item item-divider"
        ng-show="ignorableShiftsExist()">
        {{declinedshifttitle}}
    </div>
    <ion-item
        class="item item-icon-right"
        ng-repeat="shift in Model"
        ng-hide="shift.canceled || !ignoredShift(shift)">
        <h2>{{getReadableLocalShiftStartTime(shift)}} - {{getReadableLocalShiftEndTime(shift)}} - {{getReadableLocalShiftDiffTime(shift)}}</h2>
        <h2 ng-show="{{userIsInDifferentTimeZone(shift)}}">{{getReadableUsersShiftStartTime(shift)}} - {{getReadableUsersShiftEndTime(shift)}} (your time)</h2>
        <p class="shift-title">{{shift.title}}</p>
        <p class="shift-description">{{shift.description}}</p>
        <p class="location-address" ng-show="{{!shift.sublocation_id}}">{{getShiftsLocation(shift).address}}</p>
        <p class="location-address" ng-show="{{shift.sublocation_id}}">{{getShiftsLocation(shift).address}} - {{getShiftsSublocation(shift).title}}</p>
        <div ng-show="isIgnoredShift(shift)">wut</div>
        <i class="icon ion-minus-circled" ng-if="cancelable" ng-click="promptCancelShift({{shift.id}})"></i>
        <i class="icon ion-close" ng-if="dismissable" ng-click="unIgnoreShift({{shift.id}})"></i>
    </ion-item>

</ion-list>
