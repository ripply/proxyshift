<ion-view view-title="Edit Location" can-swipe-back="false"a>
    <ion-content class="has-header" hide-back-button="false">
        <div class="list list-inset">
            <form name="locationUpdateForm" ng-submit="editLocation()" novalidate>
                <div class="item item-input row">
                    <div class="col col-25 list-item-padding">
                        <h4 class="sub-subheader">
                            <i class="icon ion-edit"></i>
                            Location name
                        </h4>
                    </div>
                    <div class="col">
                        <input type="text"
                               placeholder="Building name or Store number"
                               ng-model="location.title"
                               name="title"
                               validate-location-title>
                    </div>
                </div>
                <!--
                <div class="item item-icon-left validation-message"
                     ng-if="locationUpdateForm.$dirty">
                    <i class="icon ion-alert"></i>
                    <div ng-if="locationUpdateForm.$dirty"
                         validate-location-title-messages="locationUpdateForm.title.$error"></div>
                </div>
                -->
                <div class="item item-input row">
                    <div class="col col-25 list-item-padding">
                        <h4 class="sub-subheader">
                            <i class="icon ion-edit"></i>
                            Address
                        </h4>
                    </div>
                    <div class="col">
                        <input type="text"
                               placeholder="Ex: 123 Archon Road"
                               ng-model="location.address"
                               name="address"
                               validate-location-address>
                    </div>
                </div>
                <!--
                <div class="item item-icon-left validation-message"
                     ng-if="locationUpdateForm.$dirty">
                    <i class="icon ion-alert"></i>
                    <div ng-if="locationUpdateForm.$dirty"
                         validate-location-address-messages="locationUpdateForm.address.$error"></div>
                </div>
                -->
                <div class="item item-input row">
                    <div class="col col-25 list-item-padding">
                        <h4 class="sub-subheader">
                            <i class="icon ion-edit"></i>
                            State
                        </h4>
                    </div>
                    <div class="col">
                        <input type="text"
                               placeholder="Ex: CA or California"
                               ng-model="location.state"
                               name="State"
                               validate-location-state>
                    </div>
                </div>
                <!--
                <div class="item item-icon-left validation-message"
                     ng-if="locationUpdateForm.$dirty">
                    <i class="icon ion-alert"></i>
                    <div ng-if="locationUpdateForm.$dirty"
                         validate-location-state-messages="locationUpdateForm.state.$error"></div>
                </div>
                -->
                <div class="item item-input row">
                    <div class="col col-25 list-item-padding">
                        <h4 class="sub-subheader">
                            <i class="icon ion-edit"></i>
                            City
                        </h4>
                    </div>
                    <div class="col">
                        <input type="text"
                               placeholder="Ex: San Francisco"
                               ng-model="location.city"
                               name="city"
                               validate-location-city>
                    </div>
                </div>
                <!--
                <div class="item item-icon-left validation-message"
                     ng-if="locationUpdateForm.$dirty">
                    <i class="icon ion-alert"></i>
                    <div ng-if="locationUpdateForm.$dirty"
                         validate-location-city-messages="locationUpdateForm.city.$error"></div>
                </div>
                -->
                <div class="item item-input row">
                    <div class="col col-25 list-item-padding">
                        <h4 class="sub-subheader">
                            <i class="icon ion-edit"></i>
                            Zipcode
                        </h4>
                    </div>
                    <div class="col">
                        <input type="text"
                               placeholder="Ex: 13337"
                               ng-model="location.zipcode"
                               name="Zip"
                               validate-location-zipcode>
                    </div>
                </div>
                <div class="item item-input row">
                    <div class="col col-25 list-item-padding">
                        <h4 class="sub-subheader">
                            <i class="icon ion-edit"></i>
                            Timezone
                        </h4>
                    </div>
                    <div class="col">
                        <fancy-select
                            header-text="Select a timezone"
                            items="timezones"
                            value-property="name"
                            value="location.timezone.name"
                            text-property="description"
                            allow-empty='false'
                            text="Tap here to select a Time Zone"
                            modal-template-url="templates/types/typemodal.html"
                            template-url="templates/types/typeitem.html"
                            value-changed="timezoneSelected(value)"
                            >
                        </fancy-select>
                    </div>
                </div>
                <!--
                <div class="item item-icon-left validation-message"
                     ng-if="locationUpdateForm.$dirty">
                    <i class="icon ion-alert"></i>
                    <div ng-if="locationUpdateForm.$dirty"
                         validate-location-zipcode-messages="locationUpdateForm.zipcode.$error"></div>
                </div>
                -->
                <div class="item item-input row">
                    <div class="col col-25 list-item-padding">
                        <h4 class="sub-subheader">
                            <i class="icon ion-edit"></i>
                            Phone number

                    </div>
                    <div class="col">
                        <input type="text"
                               placeholder="Ex: 1113337777"
                               ng-model="location.phonenumber"
                               name="phonenumber"
                               validate-location-phonenumber>
                    </div>
                </div>
                <div class="item item-icon-left validation-message"
                     ng-if="locationUpdateForm.$dirty">
                    <div validate-location-phonenumber-messages="locationUpdateForm.phonenumber.$error"></div>
                </div>
                <div class="item item-input row" ng-show="message.length > 0">
                    <div class="col col list-item-padding">
                        <h4>{{message}}</h4>
                    </div>
                </div>
                <button ng-disabled="saving || !locationUpdateForm.$valid"
                        class="button button-block button-steelblue"
                        type="submit">
                    <span ng-if="saving">Updating...</span>
                    <span ng-if="!saving">Update</span>
                </button>
            </form>
        </div>
    </ion-content>
</ion-view>
