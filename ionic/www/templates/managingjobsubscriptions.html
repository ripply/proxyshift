<ion-view view-title="Subscriptions" can-swipe-back="false">
    <ion-content class="has-header" hide-back-button="false">
        <div class="list">
            <div class="item item-divider">
                My Jobs
            </div>
            <div class="item item-divider" ng-if="!isPrivilegedGroupMember()">
                Don't see your job type? Contact your manager or IT department.
            </div>
            <div class="item-indent">
                <div class="list list-inset centered-input">
                    <label class="item item-input">
                        <i class="icon ion-search placeholder-icon"></i>
                        <input type="text" ng-model="query" ng-style="{'width' : '100%'}"
                               placeholder="Search by address, city, state, zipcode or phone">
                    </label>
                    <div ng-repeat="userClass in userClasses | filter:query">
                        <ion-toggle ng-model="uiStateUserClasses[getUserClassKey(userClass)]"
                                    ng-disabled="persistingUserClasses[getUserClassKey(userClass)]"
                                    ng-click="saveJob()"
                                    ng-checked="isManagingUserClass(userClass)">
                            {{ userClass.title }} - {{ userClass.description }}
                        </ion-toggle>
                        <ion-toggle ng-repeat="sublocation in sublocations | filter:query"
                                    ng-model="uiStateUserClasses[getUserClassKey(userClass, sublocation.id)]"
                                    ng-disabled="persistingUserClasses[getUserClassKey(userClass, sublocation.id)]"
                                    ng-click="saveJob()"
                                    ng-checked="isManagingUserClass(userClass, sublocation.id)"
                                    class="item-indent">
                            {{ sublocation.title }} - {{ sublocation.description }}
                        </ion-toggle>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
