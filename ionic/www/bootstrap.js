!function(){function loadManifest(manifest,fromLocalStorage,timeout){function loadScripts(){scripts.forEach(function(src){src&&("/"===src[0]&&(src=src.substr(1)),src=manifest.root+src,".js"===src.substr(-3)?(el=document.createElement("script"),el.charset="UTF-8",el.type="text/javascript",el.src=src+"?"+now,el.async=!1):(el=document.createElement("link"),el.rel="stylesheet",el.href=src+"?"+now,el.type="text/css"),head.appendChild(el))})}if(fromLocalStorage&&setTimeout(function(){window.BOOTSTRAP_OK||(console.warn("BOOTSTRAP_OK !== true; Resetting to original manifest.json..."),localStorage.removeItem("manifest"),location.reload())},timeout),!manifest.load)return void console.error("Manifest has nothing to load (manifest.load is empty).",manifest);var el,head=document.getElementsByTagName("head")[0],scripts=manifest.load.concat(),now=Date.now();manifest.root=manifest.root||"./",manifest.root.length>0&&"/"!==manifest.root[manifest.root.length-1]&&(manifest.root+="/"),fromLocalStorage||localStorage.setItem("manifest",JSON.stringify(manifest)),"undefined"!=typeof window.cordova?document.addEventListener("deviceready",loadScripts,!1):loadScripts(),window.Manifest=manifest}window.pegasus=function(a,xhr){return xhr=new XMLHttpRequest,xhr.open("GET",a),a=[],xhr.onreadystatechange=xhr.then=function(onSuccess,onError,cb,result){if(onSuccess.call&&(a=[onSuccess,onError]),4==xhr.readyState){try{200===xhr.status||0===xhr.status?(result=JSON.parse(xhr.responseText),cb=a[0]):(result=new Error("Status: "+xhr.status),cb=a[1])}catch(e){result=e,cb=a[1]}cb&&cb(result)}},xhr.send(),xhr},window.Manifest={};var manifest=JSON.parse(localStorage.getItem("manifest")),s=document.querySelector("script[manifest]");if(manifest)loadManifest(manifest,!0,s.getAttribute("timeout")||1e4);else{var url=(s?s.getAttribute("manifest"):null)||"manifest.json";pegasus(url).then(loadManifest,function(xhr){console.error("Could not download "+url+": "+xhr.status)})}}();
//# sourceMappingURL=bootstrap.js.map